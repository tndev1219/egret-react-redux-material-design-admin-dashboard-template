{"version":3,"sources":["app/views/list/InfiniteList.jsx"],"names":["api","baseUrl","client_id","InfiniteList","state","tracks","hasMoreItems","nextHref","loadItems","page","self","Object","_Users_macbookpro_Documents_Companies_UI_Lib_react_egret_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","_this","url","qwest","get","linked_partitioning","page_size","cache","then","xhr","resp","collection","map","track","artwork_url","user","avatar_url","push","next_href","setState","loader","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","key","_material_ui_core__WEBPACK_IMPORTED_MODULE_9__","variant","items","this","i","_material_ui_core__WEBPACK_IMPORTED_MODULE_10__","item","lg","md","xs","sm","title","_material_ui_core__WEBPACK_IMPORTED_MODULE_11__","elevation","href","permalink_url","src","width","height","style","borderRadius","boxShadow","alt","overflowY","overflowX","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_7___default","pageStart","loadMore","hasMore","useWindow","container","spacing","Component"],"mappings":"4OAKMA,EAAM,CACVC,QAAS,6BACTC,UAAW,oCAGPC,6MACJC,MAAQ,CACNC,OAAQ,GACRC,cAAc,EACdC,SAAU,QAGZC,UAAY,SAAAC,GACV,IAAIC,EAAIC,OAAAC,EAAA,EAAAD,CAAAE,GAEJC,EAAMd,EAAIC,QAAU,2BACpBY,EAAKT,MAAMG,WACbO,EAAMD,EAAKT,MAAMG,UAGnBQ,IACGC,IACCF,EACA,CACEZ,UAAWF,EAAIE,UACfe,oBAAqB,EACrBC,UAAW,IAEb,CACEC,OAAO,IAGVC,KAAK,SAASC,EAAKC,GAClB,GAAIA,EAAM,CACR,IAAIjB,EAASK,EAAKN,MAAMC,OACxBiB,EAAKC,WAAWC,IAAI,SAAAC,GAMlB,OALyB,MAArBA,EAAMC,cACRD,EAAMC,YAAcD,EAAME,KAAKC,YAGjCvB,EAAOwB,KAAKJ,GACLA,IAGLH,EAAKQ,UACPpB,EAAKqB,SAAS,CACZ1B,OAAQA,EACRE,SAAUe,EAAKQ,YAGjBpB,EAAKqB,SAAS,CACZzB,cAAc,gFAQxB,IAAM0B,EACJC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BAA0BC,IAAI,UAC3CJ,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAkBC,QAAQ,mBAI1BC,EAAQ,GAgCZ,OA/BAC,KAAKrC,MAAMC,OAAOmB,IAAI,SAACC,EAAOiB,GA4B5B,OA3BAF,EAAMX,KACJI,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACEC,MAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GACJC,GAAI,EACJZ,UAAU,QACVC,IAAKZ,EAAMwB,OAEXhB,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMd,UAAU,8BAA8Be,UAAW,GACvDlB,EAAAC,EAAAC,cAAA,KAAGiB,KAAM3B,EAAM4B,cAAejB,UAAU,eACtCH,EAAAC,EAAAC,cAAA,OACEmB,IAAK7B,EAAMC,YACX6B,MAAM,MACNC,OAAO,MACPC,MAAO,CACLC,aAAc,MACdC,UAAW,gCAEbC,IAAI,iBAEN3B,EAAAC,EAAAC,cAAA,KAAGC,UAAU,WAAWX,EAAMwB,WAK/BxB,IAIPQ,EAAAC,EAAAC,cAAA,OACEC,UAAU,OACVqB,MAAO,CACLD,OAAQ,sBACRK,UAAW,OACXC,UAAW,WAGb7B,EAAAC,EAAAC,cAAC4B,EAAA7B,EAAD,CACE8B,UAAW,EACXC,SAAUxB,KAAKjC,UACf0D,QAASzB,KAAKrC,MAAME,aACpB0B,OAAQA,EACRmC,WAAW,GAEXlC,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CAAMyB,WAAS,EAACC,QAAS,GACtB7B,YA7Gc8B,aAqHZnE","file":"static/js/71.b108775e.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport qwest from \"qwest\";\nimport { Grid, Card, CircularProgress } from \"@material-ui/core\";\n\nconst api = {\n  baseUrl: \"https://api.soundcloud.com\",\n  client_id: \"caf73ef1e709f839664ab82bef40fa96\"\n};\n\nclass InfiniteList extends Component {\n  state = {\n    tracks: [],\n    hasMoreItems: true,\n    nextHref: null\n  };\n\n  loadItems = page => {\n    var self = this;\n\n    var url = api.baseUrl + \"/users/8665091/favorites\";\n    if (this.state.nextHref) {\n      url = this.state.nextHref;\n    }\n\n    qwest\n      .get(\n        url,\n        {\n          client_id: api.client_id,\n          linked_partitioning: 1,\n          page_size: 10\n        },\n        {\n          cache: true\n        }\n      )\n      .then(function(xhr, resp) {\n        if (resp) {\n          var tracks = self.state.tracks;\n          resp.collection.map(track => {\n            if (track.artwork_url == null) {\n              track.artwork_url = track.user.avatar_url;\n            }\n\n            tracks.push(track);\n            return track;\n          });\n\n          if (resp.next_href) {\n            self.setState({\n              tracks: tracks,\n              nextHref: resp.next_href\n            });\n          } else {\n            self.setState({\n              hasMoreItems: false\n            });\n          }\n        }\n      });\n  };\n\n  render() {\n    const loader = (\n      <div className=\"w-100 text-center pt-24\" key=\"loader\">\n        <CircularProgress variant=\"indeterminate\"></CircularProgress>\n      </div>\n    );\n\n    var items = [];\n    this.state.tracks.map((track, i) => {\n      items.push(\n        <Grid\n          item\n          lg={3}\n          md={3}\n          xs={12}\n          sm={6}\n          className=\"track\"\n          key={track.title}\n        >\n          <Card className=\"p-16 flex flex-center h-100\" elevation={6}>\n            <a href={track.permalink_url} className=\"text-center\">\n              <img\n                src={track.artwork_url}\n                width=\"150\"\n                height=\"150\"\n                style={{\n                  borderRadius: \"50%\",\n                  boxShadow: \"0px 0px 4px rgba(0,0,0, .24)\"\n                }}\n                alt=\"albutm cover\"\n              />\n              <p className=\"caption\">{track.title}</p>\n            </a>\n          </Card>\n        </Grid>\n      );\n      return track;\n    });\n\n    return (\n      <div\n        className=\"p-30\"\n        style={{\n          height: \"calc(100vh - 140px)\",\n          overflowY: \"auto\",\n          overflowX: \"hidden\"\n        }}\n      >\n        <InfiniteScroll\n          pageStart={0}\n          loadMore={this.loadItems}\n          hasMore={this.state.hasMoreItems}\n          loader={loader}\n          useWindow={false}\n        >\n          <Grid container spacing={2}>\n            {items}\n          </Grid>\n        </InfiniteScroll>\n      </div>\n    );\n  }\n}\n\nexport default InfiniteList;\n"],"sourceRoot":""}